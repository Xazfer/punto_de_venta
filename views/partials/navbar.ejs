<!-- views/partials/navbar.ejs -->

<!-- Barra de navegación superior con estilo oscuro, usando Bootstrap -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <!-- Título que redirige al dashboard -->
        <a class="navbar-brand" href="/dashboard">Punto de Venta</a>

        <!-- Botón para mostrar/ocultar menú en dispositivos pequeños -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#menu">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Contenedor del menú que se colapsa en pantallas pequeñas -->
        <div class="collapse navbar-collapse" id="menu">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">

                <!-- Opción del menú: Inventario -->
                <li class="nav-item">
                    <a class="nav-link" href="/inventario">Inventario</a>
                </li>

                <!-- Opción del menú: Ventas -->
                <li class="nav-item">
                    <a class="nav-link" href="/ventas">Ventas</a>
                </li>

                <!-- Solo visible si el usuario tiene rol "gerente": Compras -->
                <% if (usuario && usuario.rol === 'gerente') { %>
                    <li class="nav-item">
                        <a class="nav-link" href="/compras">Compras</a>
                    </li>
                <% } %>

                <!-- Opción del menú: Cortes de Venta -->
                <li class="nav-item">
                    <a class="nav-link" href="/cortes">Cortes de Venta</a>
                </li>

            </ul>

            <!-- Mostrar datos del usuario actual (nombre y rol) si hay sesión activa -->
            <% if (usuario) { %>
                <span class="navbar-text text-white me-3">
                    <strong><%= usuario.nombre %></strong> | <%= usuario.rol.toUpperCase() %>
                </span>
                <!-- Botón para cerrar sesión -->
                <a href="/logout" class="btn btn-outline-danger btn-sm">Cerrar sesión</a>
            <% } %>
        </div>
    </div>
</nav>